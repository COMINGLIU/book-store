<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="../../../../common/reset.css">
    <link rel="stylesheet" type="text/css" href="common/common.css">
	<title>orderdet表格</title>
	<style type="text/css">
		table td {
		  width: 200px;
		  height: 40px;
		  line-height: 40px;
		  text-align: center;
		  overflow:hidden;
		  text-overflow: ellipsis;
		  white-space: nowrap;
		}
		table thead td {
		  font-size: 22px;
		}
		table tbody td {
		  font-size: 16px;
		}
	</style>
</head>
<body>
	<div id="container">
        <table>
            <thead> 
                <tr>
                    <td>bookNum</td>
                    <td>orderNum</td>
                    <td>bookCount</td>
                    <td>buyingPrice</td>
                    <td>delete</td>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td><input type="checkbox" name="del"></td>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td><input type="checkbox" name="del"></td>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td><input type="checkbox" name="del"></td>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td><input type="checkbox" name="del"></td>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td><input type="checkbox" name="del"></td>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td><input type="checkbox" name="del"></td>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td><input type="checkbox" name="del"></td>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td><input type="checkbox" name="del"></td>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td><input type="checkbox" name="del"></td>
                </tr>
            </tbody>
        </table>
        <ul class="btns">
            <li>&lt;</li>
            <li>1</li>
            <li>2</li>
            <li>3</li>
            <li>4</li>
            <li>5</li>
            <li>&gt;</li>
            <li>删除</li>
        </ul>
    </div>
    <script src="../../ajax.js"></script>
    <script type="text/javascript">
        (function(document,window) {
            var doc = document;
            var ele = {
                aTr: doc.querySelectorAll("tbody tr"),
                aBtns: doc.querySelectorAll(".btns li")
            };
            ajax.ajaxGet("/web/?orderdet="+0,function(data) {
                
                console.log(data);
                for(var key in data) {
                    var i = parseInt(key);
                    var aTd = ele.aTr[i].getElementsByTagName("td");
                    aTd[0].innerHTML = data[i]["bookNum"];
                    aTd[1].innerHTML = data[i]["orderNum"];
                    aTd[1].innerHTML = data[i]["bookCount"];
                    aTd[1].innerHTML = data[i]["buyingPrice"];
                }
            })  
            for(var i=0,len=ele.aBtns.length;i<len;i++) {
                (function(i) {
                    ele.aBtns[i].onclick = function() {
                        var sendData = parseInt(ele.aBtns[i].innerHTML-1);
                        ajax.ajaxGet("/web/?orderdet="+sendData,function(data) {
                            console.log(data);
                            for(var key in data) {
                                var i = parseInt(key);
                                var aTd = ele.aTr[i].getElementsByTagName("td");
                                aTd[0].innerHTML = data[i]["bookNum"];
                                aTd[1].innerHTML = data[i]["orderNum"];
                                aTd[1].innerHTML = data[i]["bookCount"];
                                aTd[1].innerHTML = data[i]["buyingPrice"];
                            }
                        }) 
                    }
                })(i)
            }
        })(document,window);
    </script>
</body>
</html>